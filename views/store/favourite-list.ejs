<!DOCTYPE html>
<html lang="en">
<%- include("../partials/head") %>
<body>
  <%- include("../partials/nav") %>
  
  <main>
    <h1 style="margin-bottom: 1rem;">My Wishlist</h1>

    <% if (favouriteHomes.length === 0) { %>
      <div class="centered-message">
        <h2>No favorites yet!</h2>
        <p>Save homes you love to view them here.</p>
        <a href="/homes" class="btn btn-primary">Start Exploring</a>
      </div>
    <% } else { %>
      
      <div class="home-grid">
        <% favouriteHomes.forEach(home => { %>
          
          <div class="home-card">
            <a href="/homes/<%= home.id %>">
              <img src="<%= home.photoUrl %>" alt="<%= home.houseName %>">
            </a>

            <div class="home-info">
              <h3><%= home.location %></h3>
              <p style="color: #717171; margin: 4px 0;"><%= home.houseName %></p>
              <span class="price">â‚¹<%= home.price %></span>

              <div style="display: flex; gap: 10px; margin-top: auto;">
                  
                  <a href="/homes/<%= home.id %>" class="btn btn-outline" style="flex: 1; text-align: center;">Details</a>
                  
                  <form action="/favourites/delete" method="POST" style="flex: 1;">
                      <input type="hidden" name="homeId" value="<%= home.id %>">
                      <button class="btn btn-danger" style="width: 100%;">Remove</button>
                  </form>

              </div>
            </div>
          </div>

        <% }) %>
      </div>

    <% } %>
  </main>
</body>
</html>